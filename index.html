<!DOCTYPE html>
<html lang="ja">
	<head>
		<title>PWA Sample</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="manifest" href="./manifest.json">
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script type="text/javascript" src="localforage.min.js"></script>
		<script type="text/javascript"><!--
			if ('serviceWorker' in navigator) {
				navigator.serviceWorker.register('service_worker.js').then(function(registration) {
						console.log('ServiceWorker registration successful with scope: ', registration.scope);
				}).catch(function(err) {
						console.log('ServiceWorker registration failed: ', err);
				});
			}

			localforage.config({
				name: 'u_habits',
				storeName: 'habits',
			});

			$("textarea").text(localforage.getItem("name", function(err, value){ alert(value) }));

			function save(){
				localforage.setItem("name", "読書");
			}
		--></script>
	</head>
	<body>
		<div id="app">
			<textarea></textarea>
			<button onClick="save()">Save</button>
		</div>
	</body>
</html>
